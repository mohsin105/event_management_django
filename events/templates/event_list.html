{% extends "base.html" %}
{% block title %}All Events{% endblock title %}
{% block content %}
<h1 class="text-3xl text-center font-bold my-4">All Events: </h1>
<div>
    {% include "stats_grid.html" %}
</div>
{% comment %} Search Bar {% endcomment %}
<div class="bg-gray-50 w-3/4 mx-auto rounded-sm shadow-xl p-2 ">
    <form action="" class="m-4 text-center" method="GET">
        
        <input 
            type="text" 
            name="search" 
            value="{{request.GET.search}}"
            class="border-4 p-2 rounded-md" 
            placeholder="Search Value">
        <select name="search_type" id="">
            <option value="">Search By</option>
            <option value="event">Event</option>
            <option value="category">Category</option>
        </select>
        <button type="submit" 
            class="bg-violet-600 text-white p-2 rounded-md">Search</button>
    </form>
</div>
    {% comment %} <p class="text-lg italic text-green-500 text-center">Search button here. </p> {% endcomment %}
    <div class="all_task bg-gray-50  w-11/12 mx-auto rounded-lg p-4 my-4 ">
        <h2 class="text-2xl text-center font-bold my-4">{{title}}</h2>  
        <div class="all_task_body grid grid-cols-4 gap-1 place-items-center text-lg font-bold bg-cyan-200 shadow-xl p-4 ">
            <!-- <div class="task_body_heading"></div> -->
             <p>Event Name</p>
             <p>Category</p>
             <p>Participants</p>
             <p>Do More</p>
        </div>
        {% comment %} Event List {% endcomment %}
        {% if events|length == 0 %}
            <div class="text-2xl text-center font-semibold p-8 ">
                No events yet
            </div>
        {% endif %}
        {% for event in events %}
        <div class="grid grid-cols-4 gap-2 text-sm mt-6 border border-gray-300 shadow-lg py-4 rounded-md">

            <div class="flex items-center gap-1 pl-4">
               <div class="list_style flex justify-center items-center w-2 h-2 bg-green-600 rounded-full "></div>
               <p class="text-base">{{event.name}}</p>
            </div>
            <div class="place-self-center text-start">
               <div class=" bg-blue-200 w-fit py-2 px-2 rounded-md font-semibold">
                   <p>{{event.category}}</p>

               </div>
            </div>
            <div class="place-self-center text-white">
               
                <div class="list_style w-8 h-8 bg-green-600 rounded-full border border-white self-center flex items-center justify-center ">
                     <p class="font-bold">{{event.participants.all.count}}</p>
                 </div>
                
                
             </div>
            <div class="place-self-center flex flex-col md:flex-row items-center justify-between  w-1/2 gap-5">

                <p class="font-semibold basis-2/3">{{event.date}}</p>
                <a href="{% url 'details' event.id %}" class="p-2 rounded-md bg-violet-400">Details</a>
            </div>
        </div>
        {% endfor %}
        
    </div>
{% endblock content %}